<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ÏóÑÍ∞ÄÎÑ§ ÌòÑÏû• Í≥ÑÏÇ∞Í∏∞</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  background:#0e0e0e;
  color:#fff;
  font-family:system-ui,-apple-system,sans-serif;
}
header{
  background:#ff8c00;
  padding:14px;
  font-size:22px;
  font-weight:900;
  text-align:center;
}
main{
  display:grid;
  grid-template-columns: 3fr 2fr;
  gap:12px;
  padding:12px;
  height:calc(100vh - 64px);
}

/* Ï¢åÏ∏° */
.left{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.cat-bar button{
  background:#222;
  color:#fff;
  border:1px solid #444;
  border-radius:8px;
  padding:8px 14px;
  margin-right:6px;
  font-size:15px;
}
.cat-bar button.active{
  background:#ff8c00;
  color:#000;
  font-weight:700;
}
.items{
  flex:1;
  overflow-y:auto;
}
.item{
  background:#1c1c1c;
  padding:14px;
  border-radius:10px;
  display:flex;
  justify-content:space-between;
  margin-bottom:8px;
  font-size:18px;
  cursor:pointer;
}

/* Ïö∞Ï∏° */
.right{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.total{
  font-size:26px;
  font-weight:900;
}
.cart{
  background:#161616;
  border-radius:12px;
  padding:10px;
  flex:1;
  overflow-y:auto;
}
.cart-item{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:8px;
}
.cart-item button{
  background:#ff3b30;
  border:none;
  color:#fff;
  border-radius:6px;
  padding:4px 8px;
  font-size:14px;
}

/* ÌïòÎã® Í≤∞Ï†ú Í≥†Ï†ï */
.pay-footer{
  margin-top:auto;
}
.money{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.money button{
  padding:12px;
  font-size:18px;
}
.reset{
  background:#ff3b30;
  color:#fff;
}
.pay{
  background:#3bd66f;
  color:#000;
  font-size:22px;
  padding:14px;
  margin-top:8px;
}
</style>
</head>

<body>
<header>ÏóÑÍ∞ÄÎÑ§ ÌòÑÏû• Í≥ÑÏÇ∞Í∏∞</header>

<main>
  <!-- Ï¢åÏ∏° -->
  <div class="left">
    <div class="cat-bar" id="cats"></div>
    <div class="items" id="items"></div>
  </div>

  <!-- Ïö∞Ï∏° -->
  <div class="right">
    <div class="total">Ï¥ùÌï©Í≥Ñ ‚Ç©<span id="total">0</span></div>

    <div class="cart" id="cart"></div>

    <div>Î∞õÏùÄÎèà ‚Ç©<span id="paid">0</span> / Í±∞Ïä§Î¶Ñ ‚Ç©<span id="change">0</span></div>

    <div class="pay-footer">
      <div class="money">
        <button onclick="addMoney(1000)">1Ï≤ú</button>
        <button onclick="addMoney(5000)">5Ï≤ú</button>
        <button onclick="addMoney(10000)">1Îßå</button>
        <button onclick="addMoney(30000)">3Îßå</button>
        <button onclick="addMoney(50000)">5Îßå</button>
        <button class="reset" onclick="resetAll()">Ï¥àÍ∏∞Ìôî</button>
      </div>
      <button class="pay" onclick="complete()">Í≤∞Ï†ú ÏôÑÎ£å</button>
    </div>
  </div>
</main>

<script src="items.js"></script>

<script>
let cart=[];
let total=0;
let paid=0;
let currentCat="Í≥ºÏùº";

const cats=[...new Set(ITEMS.map(i=>i.cat))];

const catsDiv=document.getElementById("cats");
cats.forEach(c=>{
  const b=document.createElement("button");
  b.innerText=c;
  if(c===currentCat) b.classList.add("active");
  b.onclick=()=>{currentCat=c;renderCats();renderItems();};
  catsDiv.appendChild(b);
});

function renderCats(){
  [...catsDiv.children].forEach(b=>{
    b.classList.toggle("active",b.innerText===currentCat);
  });
}

function renderItems(){
  items.innerHTML="";
  ITEMS.filter(i=>i.cat===currentCat).forEach(i=>{
    const d=document.createElement("div");
    d.className="item";
    d.innerHTML=`<span>${i.name} (${i.unit})</span><span>‚Ç©${i.price.toLocaleString()}</span>`;
    d.onclick=()=>addItem(i);
    items.appendChild(d);
  });
}

function addItem(i){
  cart.push(i);
  total+=i.price;
  renderCart();
}

function renderCart(){
  cartDiv.innerHTML="";
  cart.forEach((i,idx)=>{
    const d=document.createElement("div");
    d.className="cart-item";
    d.innerHTML=`${i.name} ‚Ç©${i.price.toLocaleString()}
      <button onclick="removeItem(${idx})">üóë</button>`;
    cartDiv.appendChild(d);
  });
  document.getElementById("total").innerText=total.toLocaleString();
  updateChange();
}

function removeItem(idx){
  total-=cart[idx].price;
  cart.splice(idx,1);
  renderCart();
}

function addMoney(a){
  paid+=a;
  document.getElementById("paid").innerText=paid.toLocaleString();
  updateChange();
}

function updateChange(){
  document.getElementById("change").innerText=Math.max(paid-total,0).toLocaleString();
}

function resetAll(){
  cart=[];
  total=0;
  paid=0;
  document.getElementById("paid").innerText="0";
  document.getElementById("change").innerText="0";
  renderCart();
}

function complete(){
  alert("Í≤∞Ï†ú ÏôÑÎ£å");
  resetAll();
}

const items=document.getElementById("items");
const cartDiv=document.getElementById("cart");

renderItems();
</script>
</body>
</html>
