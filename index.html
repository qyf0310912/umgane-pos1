<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>엄가네 POS</title>

<style>
:root{
  --bg:#0f1219;
  --card:#1e2639;
  --line:rgba(255,255,255,.12);
  --text:#f7f9ff;
  --muted:rgba(247,249,255,.65);
  --accent:#ff9f00;
}

html,body{margin:0;height:100%;background:var(--bg);color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",sans-serif;}
button{font:inherit;cursor:pointer;border:none}

/* LAYOUT */
.app{display:grid;grid-template-columns:3fr 1fr;height:100vh;gap:10px;padding:10px}
.left{border:1px solid var(--line);border-radius:12px;padding:10px;overflow:auto}
.right{border:1px solid var(--line);border-radius:12px;padding:10px;display:flex;flex-direction:column}

/* CATEGORIES */
.cats{display:flex;gap:8px;margin-bottom:12px;flex-wrap:wrap}
.cat{padding:8px 14px;border-radius:999px;background:#1f2739;opacity:.8}
.cat.active{background:var(--accent);color:#000;opacity:1}

/* PRODUCTS */
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px}
.card{
  background:var(--card);padding:12px;border-radius:12px;
  display:flex;flex-direction:column;justify-content:space-between;
}
.card:hover{opacity:0.9}
.name{font-weight:900;font-size:16px}
.price{font-size:14px;color:var(--muted)}

/* CART */
.cartItem{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--line)}
.cartItem b{font-weight:900}
.total{margin-top:auto;font-size:18px;font-weight:900;text-align:right;padding:8px 0}
.payBtn{margin-top:10px;padding:12px;background:var(--accent);color:#000;font-size:18px;font-weight:900;border-radius:10px}
</style>
</head>

<body>

<div class="app">

  <div class="left">
    <div class="cats" id="cats"></div>
    <div class="products" id="products"></div>
  </div>

  <div class="right">
    <div class="cartList" id="cartList"></div>
    <div class="total">총합계: <span id="total">0</span>원</div>
    <button class="payBtn" id="payBtn">결제완료</button>
  </div>

</div>

<script>
const categories=["전체","과일","야채","봉채소","생선","기타"];
const ITEMS=[
  {name:"사과",price:3000,cat:"과일"},
  {name:"바나나",price:2500,cat:"과일"},
  {name:"토마토",price:10000,cat:"과일"},
  {name:"감자",price:3000,cat:"야채"},
  {name:"고구마",price:3000,cat:"야채"},
  {name:"깻잎",price:2000,cat:"봉채소"},
  {name:"상추",price:1500,cat:"봉채소"},
  {name:"고등어",price:6000,cat:"생선"},
  {name:"굴비",price:10000,cat:"생선"},
  {name:"기타상품",price:5000,cat:"기타"}
];

let activeCat="전체";
let cart=[];

/* 카테고리 */
const catsEl=document.getElementById("cats");
categories.forEach(c=>{
 const b=document.createElement("div");
 b.className="cat"+(c===activeCat?" active":"");
 b.innerText=c;
 b.onclick=()=>{
   activeCat=c;
   renderAll();
 };
 catsEl.appendChild(b);
});

/* 렌더 상품 & 필터 */
const productsEl=document.getElementById("products");
function renderProducts(){
 productsEl.innerHTML="";
 const list=ITEMS
   .filter(i=>activeCat==="전체"||i.cat===activeCat)
   .sort((a,b)=>(b.count||0)-(a.count||0));
 list.forEach(i=>{
   const d=document.createElement("div");
   d.className="card";
   d.innerHTML=`<div class="name">${i.name}</div>
                <div class="price">${i.price.toLocaleString()}원</div>`;
   d.onclick=()=>addCart(i);
   productsEl.appendChild(d);
 });
}

/* 장바구니 */
const cartListEl=document.getElementById("cartList");
const totalEl=document.getElementById("total");

function addCart(item){
 const found=cart.find(c=>c.name===item.name);
 if(found) found.qty++;
 else cart.push({name:item.name,price:item.price,qty:1});
 renderCart();
}

function renderCart(){
 cartListEl.innerHTML="";
 let sum=0;
 cart.forEach(c=>{
   sum+=c.price*c.qty;
   const div=document.createElement("div");
   div.className="cartItem";
   div.innerHTML=`${c.name} x${c.qty} <b>${(c.price*c.qty).toLocaleString()}원</b>`;
   cartListEl.appendChild(div);
 });
 totalEl.innerText=sum.toLocaleString();
}

/* 결제 */
document.getElementById("payBtn").onclick=()=>{
 if(cart.length===0){ alert("장바구니가 비었습니다."); return; }
 alert("총 "+totalEl.innerText+"원 결제완료!");
 cart=[];
 renderCart();
};

/* 전체 렌더 */
function renderAll(){
 document.querySelectorAll(".cat").forEach(el=>{
   el.classList.toggle("active",el.innerText===activeCat);
 });
 renderProducts();
 renderCart();
}

renderAll();
</script>

</body>
</html>
