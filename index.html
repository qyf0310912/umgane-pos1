<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ÏóÑÍ∞ÄÎÑ§ ÌòÑÏû• POS</title>

<style>
body {
  margin: 0;
  font-family: system-ui, -apple-system, sans-serif;
  background: #0e0e0e;
  color: #fff;
}

header {
  background: #ff7a00;
  padding: 14px;
  font-size: 22px;
  font-weight: 900;
  text-align: center;
}

.container { padding: 12px; }

.total {
  font-size: 28px;
  font-weight: 900;
  margin-bottom: 10px;
}

.category-btn {
  background: #333;
  color: #fff;
  font-size: 20px;
  padding: 12px;
  margin: 4px;
  border-radius: 8px;
}

.item-btn {
  background: #222;
  color: #fff;
  font-size: 22px;
  padding: 14px;
  margin: 6px 0;
  width: 100%;
  border-radius: 10px;
}

.cart {
  background: #1c1c1c;
  border-radius: 10px;
  padding: 10px;
  margin-top: 12px;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  margin: 6px 0;
  font-size: 20px;
}

.money-row {
  display: flex;
  justify-content: space-between;
  font-size: 20px;
  margin-top: 8px;
}

.money-buttons button {
  width: 32%;
  padding: 16px;
  font-size: 20px;
  margin: 4px 0;
}

.pay-btn {
  width: 100%;
  padding: 18px;
  font-size: 26px;
  background: #3ddb6f;
  border-radius: 12px;
  margin-top: 12px;
}

.reset {
  background: #ff3b30;
  color: #fff;
}
</style>
</head>

<body>
<header>ÏóÑÍ∞ÄÎÑ§ ÌòÑÏû• Í≥ÑÏÇ∞Í∏∞</header>

<div class="container">
  <div class="total">Ï¥ùÌï©Í≥Ñ ‚Ç©<span id="total">0</span></div>

  <div id="categories"></div>
  <div id="items"></div>

  <div class="cart" id="cart"></div>

  <div class="money-row">
    <div>Î∞õÏùÄÎèà ‚Ç©<span id="paid">0</span></div>
    <div>Í±∞Ïä§Î¶Ñ ‚Ç©<span id="change">0</span></div>
  </div>

  <div class="money-buttons">
    <button onclick="addMoney(1000)">1Ï≤ú</button>
    <button onclick="addMoney(5000)">5Ï≤ú</button>
    <button onclick="addMoney(10000)">1Îßå</button>
    <button onclick="addMoney(30000)">3Îßå</button>
    <button onclick="addMoney(50000)">5Îßå</button>
    <button class="reset" onclick="resetAll()">Ï¥àÍ∏∞Ìôî</button>
  </div>

  <button class="pay-btn" onclick="complete()">Í≤∞Ï†ú ÏôÑÎ£å</button>
</div>

<script src="items.js"></script>

<script>
let total = 0;
let paid = 0;
let cartItems = [];

function renderCategories() {
  const cats = [...new Set(ITEMS.map(i => i.cat))];
  const box = document.getElementById("categories");
  box.innerHTML = "";
  cats.forEach(c => {
    const b = document.createElement("button");
    b.className = "category-btn";
    b.innerText = c;
    b.onclick = () => renderItems(c);
    box.appendChild(b);
  });
}

function renderItems(cat) {
  const box = document.getElementById("items");
  box.innerHTML = "";
  ITEMS.filter(i => i.cat === cat).forEach(item => {
    const b = document.createElement("button");
    b.className = "item-btn";
    b.innerText = `${item.name} (${item.unit}) ‚Ç©${item.price.toLocaleString()}`;
    b.onclick = () => addItem(item);
    box.appendChild(b);
  });
}

function addItem(item) {
  cartItems.push(item);
  total += item.price;
  document.getElementById("total").innerText = total.toLocaleString();
  renderCart();
}

function renderCart() {
  const box = document.getElementById("cart");
  box.innerHTML = "";
  cartItems.forEach((i, idx) => {
    const row = document.createElement("div");
    row.className = "cart-item";
    row.innerHTML = `
      <span>${i.name} ${i.unit}</span>
      <span>
        ‚Ç©${i.price.toLocaleString()}
        <button onclick="removeItem(${idx})">üóëÔ∏è</button>
      </span>`;
    box.appendChild(row);
  });
}

function removeItem(i) {
  total -= cartItems[i].price;
  cartItems.splice(i, 1);
  document.getElementById("total").innerText = total.toLocaleString();
  renderCart();
}

function addMoney(amount) {
  paid += amount;
  document.getElementById("paid").innerText = paid.toLocaleString();
  document.getElementById("change").innerText =
    Math.max(paid - total, 0).toLocaleString();
}

function resetAll() {
  total = 0;
  paid = 0;
  cartItems = [];
  document.getElementById("total").innerText = "0";
  document.getElementById("paid").innerText = "0";
  document.getElementById("change").innerText = "0";
  renderCart();
}

function complete() {
  alert("Í≤∞Ï†ú ÏôÑÎ£å!");
  resetAll();
}

renderCategories();
</script>
</body>
</html>
